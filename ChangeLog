2008-03-07  Jorn Baayen  <jorn@openedhand.com>

	* libgupnp-av/gupnp-didl-lite-parser.h:

	Header aestethics.

2008-03-07  Zeeshan Ali Khattak  <zeenix@gmail.com>

	* doc/Makefile.am:
	* doc/gupnp-av-docs.sgml:
	* doc/gupnp-av-sections.txt:

	Create the missing parts of documentation build.

2008-03-07  Zeeshan Ali Khattak  <zeenix@gmail.com>

	* libgupnp-av/gupnp-didl-lite-parser.c:
	* libgupnp-av/gupnp-last-change-parser.c:
	* libgupnp-av/gupnp-search-criteria-parser.c:

	Use the term 'A/V' rather than 'AV'.

2008-03-07  Zeeshan Ali Khattak  <zeenix@gmail.com>

	* libgupnp-av/gupnp-didl-lite-object.c:
	* libgupnp-av/gupnp-didl-lite-parser.c:
	* libgupnp-av/gupnp-last-change-parser.c:

	More documentation.

2008-02-25  Zeeshan Ali Khattak  <zeenix@gmail.com>

	* libgupnp-av/Makefile.am:
	* libgupnp-av/gupnp-av-main.c:
	* libgupnp-av/gupnp-av-main.h:
	* libgupnp-av/gupnp-av.h:

	Remove the unneeded main module and therefore gupnp_av_init().

2008-02-25  Zeeshan Ali Khattak  <zeenix@gmail.com>

	* libgupnp-av/gupnp-didl-lite-parser.h:

	Remove the uneeded signal pointers from the class struct.

2008-02-25  Zeeshan Ali Khattak  <zeenix@gmail.com>

	* libgupnp-av/gupnp-didl-lite-parser.c:
	* libgupnp-av/gupnp-last-change-parser.c:

	Fix a typo: Name the parser object as 'parser' rather than 'didl'.

2008-02-25  Zeeshan Ali Khattak  <zeenix@gmail.com>

	* libgupnp-av/gupnp-last-change-parser.c:
	* libgupnp-av/gupnp-last-change-parser.h:

	Make "instance-id" a property of the parser object.

2008-02-25  Zeeshan Ali Khattak  <zeenix@gmail.com>

	* libgupnp-av/Makefile.am:
	* libgupnp-av/gupnp-av-util.c:
	* libgupnp-av/gupnp-av-util.h:
	* libgupnp-av/gupnp-av.h:
	* libgupnp-av/gupnp-last-change-parser.c:
	* libgupnp-av/gupnp-last-change-parser.h:

	A new parser object for last change parsing for consistency with the
	rest of the API.

2008-02-13  Zeeshan Ali Khattak  <zeenix@gmail.com>

	* libgupnp-av/gupnp-didl-lite-object.c:

	Fix a GList leak.

2008-02-13  Zeeshan Ali Khattak  <zeenix@gmail.com>

	* libgupnp-av/gupnp-didl-lite-object.c:
	* libgupnp-av/gupnp-didl-lite-object.h:

	Provide a convenient function to get a hashtable of ProtocolInfo and
	URI pairs from an object.

2008-01-30  Zeeshan Ali Khattak  <zeenix@gmail.com>

	* libgupnp-av/xml-util.c:

	Check for names of xml nodes and attrs to be non-NULL. Seems we can't
	rely on libxml on this one.

2008-01-25  Zeeshan Ali Khattak  <zeenix@gmail.com>

	* libgupnp-av/Makefile.am:
	* libgupnp-av/gupnp-av-protocol.h:

	Remove the now unneeded gupnp-av-protocol.h.

2008-01-23  Zeeshan Ali Khattak  <zeenix@gmail.com>

	* libgupnp-av/gupnp-didl-lite-parser.c:
	* libgupnp-av/gupnp-didl-lite-parser.h:

	- Use callback instead of signal to report the availability of a DIDL
	  object.
	- Warn if there is no ''DIDL-Lite' element in the DIDL document.

2008-01-23  Zeeshan Ali Khattak  <zeenix@gmail.com>

	* libgupnp-av/Makefile.am:
	* libgupnp-av/gupnp-av-main.c:
	* libgupnp-av/gupnp-media-renderer-proxy.c:
	* libgupnp-av/gupnp-media-renderer-proxy.h:
	* libgupnp-av/gupnp-media-server-proxy.c:
	* libgupnp-av/gupnp-media-server-proxy.h:

	Get rid of now unneeded/unwanted proxy objects.

2008-01-23  Ross Burton  <ross@openedhand.com>

	* gupnp-didl-lite-writer.c:
	Fix the XML namespace of DIDL-Lite.

2008-01-22  Zeeshan Ali Khattak  <zeenix@gmail.com>

	* libgupnp-av/gupnp-didl-lite-parser.c:
	* libgupnp-av/gupnp-didl-lite-parser.h:
	* libgupnp-av/gupnp-media-server-proxy.c:

	_parse_didl takes the xml string rather than xml document.

2008-01-22  Jorn Baayen  <jorn@openedhand.com>

	* libgupnp-av/gupnp-search-criteria-parser.c:
	(gupnp_search_criteria_parser_class_init), (scan_rel_exp):
	* libgupnp-av/gupnp-search-criteria-parser.h:
	* tests/test-search-criteria-parser.c: (disjunction_cb):

	Allow application to error out returning from the "expression"
	callback.

2008-01-17  Ross Burton  <ross@openedhand.com>

	* tests/Makefile.am:
	* tests/check-search.c:
	Add very basic test suite for the search expression parser.

2008-01-17  Jorn Baayen  <jorn@openedhand.com>

	* libgupnp-av/gupnp-search-criteria-parser.c:
	(gupnp_search_criteria_parser_init), (scan_rel_exp):

	Allow '@' in identifier names.
	Also emit expression for "exists false", and include boolean value
	in value parameter.

2008-01-17  Jorn Baayen  <jorn@openedhand.com>

	* libgupnp-av/gupnp-media-server-proxy.c: (browse_cb):

	Revert change of 2008-01-14 -- the value of "Result" is supposed to 
	be escaped.

2008-01-14  Jorn Baayen  <jorn@openedhand.com>

	* Makefile.am:
	* configure.ac:

	Remove unused translation framework.

2008-01-14  Jorn Baayen  <jorn@openedhand.com>

	* doc/Makefile.am:

	Temporarily not inspect gupnp-didl-lite-object.h because 
	of gupnp_didl_lite_descriptor_get_type() confusing gtk-doc.

2008-01-14  Jorn Baayen  <jorn@openedhand.com>

	* libgupnp-av/gupnp-didl-lite-object.c:
	(gupnp_didl_lite_object_is_container),
	(gupnp_didl_lite_object_is_item), (gupnp_didl_lite_object_get_id),
	(gupnp_didl_lite_object_get_parent_id),
	(gupnp_didl_lite_object_get_title),
	(gupnp_didl_lite_object_get_value):

	Add g_return_val_if_fail() checks. 

2008-01-14  Jorn Baayen  <jorn@openedhand.com>

	* Makefile.am:
	* configure.ac:
	* doc/Makefile.am:

	Add gtk-doc bits.

	* libgupnp-av/Makefile.am:
	* libgupnp-av/gupnp-av.h:
	* libgupnp-av/gupnp-media-server.c:
	* libgupnp-av/gupnp-media-server.h:

	Remove MediaServer object, as it does nothing.

	* libgupnp-av/gupnp-didl-lite-parser.c:
	* libgupnp-av/gupnp-didl-lite-parser.h:
	* libgupnp-av/gupnp-media-server-proxy.c: (browse_cb):

	Update for new xmlNode retrieval API. 

2008-01-14  Jorn Baayen  <jorn@openedhand.com>

	* tests/test-search-criteria-parser.c: (main):

	Update.

2008-01-14  Jorn Baayen  <jorn@openedhand.com>

	* libgupnp-av/gupnp-av-main.h:
	* libgupnp-av/gupnp-av-util.h:
	* libgupnp-av/gupnp-didl-lite-parser.h:
	* libgupnp-av/gupnp-didl-lite-writer.c:
	* libgupnp-av/gupnp-didl-lite-writer.h:

	Minor cosmetic cleanups.

	* libgupnp-av/Makefile.am:
	* libgupnp-av/gupnp-av.h:
	* libgupnp-av/gupnp-av-search-criteria-parser.c:
	* libgupnp-av/gupnp-av-search-criteria-parser.h:
	* libgupnp-av/gupnp-search-criteria-parser.c:
	(gupnp_search_criteria_parser_init),
	(gupnp_search_criteria_parser_class_init), (scan_rel_exp),
	(scan_search_exp), (gupnp_search_criteria_parser_parse_text):
	* libgupnp-av/gupnp-search-criteria-parser.h:

	Rename AVSearchCriteriaParser to SearchCriteriaParser.

2008-01-07  Jorn Baayen  <jorn@openedhand.com>

	* libgupnp-av/gupnp-av-search-criteria-parser.c:
	(gupnp_av_search_criteria_parser_init):

	Allow ':' to occur in identifiers.

2008-01-07  Jorn Baayen  <jorn@openedhand.com>

	* libgupnp-av/gupnp-av-search-criteria-parser.c: (scan_rel_exp),
	(scan_search_exp):

	Added missing "break".

2008-01-07  Jorn Baayen  <jorn@openedhand.com>

	* libgupnp-av/gupnp-av-search-criteria-parser.c: (scan_rel_exp):

	Only emit "exists" expression if argument is set to "true".

2008-01-07  Jorn Baayen  <jorn@openedhand.com>

	* libgupnp-av/Makefile.am:
	A libgupnp-av/gupnp-av-search-criteria-parser.c:
	A libgupnp-av/gupnp-av-search-criteria-parser.h:
	D libgupnp-av/gupnp-av-search-criteria-scanner.c:
	D libgupnp-av/gupnp-av-search-criteria-scanner.h:
	* libgupnp-av/gupnp-av.h:
	* tests/Makefile.am:
	A tests/test-search-criteria-parser.c:
	D tests/test-search-criteria-scanner.c:

	Replace SearchCriteriaScanner with SearchCriteriaParser which is
	slightly higher level. Update test case accordingly.

	* libgupnp-av/gupnp-didl-lite-writer.c:

	Added SECTION documentation.

2008-01-06  Jorn Baayen  <jorn@openedhand.com>

	* Makefile.am:
	* configure.ac:
	* libgupnp-av/Makefile.am:
	* libgupnp-av/gupnp-av-search-criteria-scanner.c:
	* libgupnp-av/gupnp-av-search-criteria-scanner.h:
	* libgupnp-av/gupnp-av.h:
	* tests/Makefile.am:
	* tests/test-search-criteria-scanner.c:

	Add initial search criteria parsing code.

2008-01-02  Zeeshan Ali Khattak  <zeenix@gmail.com>

	* libgupnp-av/gvalue-util.h:
	* libgupnp-av/xml-util.h:

	Use 'G_GNUC_INTERNAL' macro to declare functions we don't want to
	export.

2008-01-02  Zeeshan Ali Khattak  <zeenix@gmail.com>

	* libgupnp-av/gupnp-av-util.c:
	* libgupnp-av/gupnp-didl-lite-object.c:
	* libgupnp-av/xml-util.h:

	Use the term 'content' instead of 'contents'.

2007-12-31  Zeeshan Ali Khattak  <zeenix@gmail.com>

	* libgupnp-av/Makefile.am:
	* libgupnp-av/gupnp-av-util.c:
	* libgupnp-av/gupnp-av-util.h:
	* libgupnp-av/gupnp-av.h:

	- Copy some needed gvalue util api from gupnp package.
	- Add helper API for parsing of LastChange event xml.

2007-11-24  Zeeshan Ali Khattak  <zeenix@gstreamer.net>

	* libgupnp-av/Makefile.am:
	* libgupnp-av/gupnp-av-main.c:
	* libgupnp-av/gupnp-av-protocol.h:
	* libgupnp-av/gupnp-media-renderer-proxy.c:
	* libgupnp-av/gupnp-media-server-proxy.c:
	* libgupnp-av/gupnp-media-server.c:

	Put all the service/device name #defines in a private header.

2007-11-23  Jorn Baayen  <jorn@openedhand.com>

	* libgupnp-av/gupnp-didl-lite-writer.c:
	(gupnp_didl_lite_writer_start_item):
	* libgupnp-av/gupnp-didl-lite-writer.h:

	Add refID writing.

2007-11-21  Jorn Baayen  <jorn@openedhand.com>

	* libgupnp-av/gupnp-didl-lite-writer.c:
	(gupnp_didl_lite_writer_add_res):

	Format duration correctly.

2007-11-21  Jorn Baayen  <jorn@openedhand.com>

	* libgupnp-av/gupnp-didl-lite-writer.c:
	(gupnp_didl_lite_resource_reset), (gupnp_didl_lite_writer_add_res):
	* libgupnp-av/gupnp-didl-lite-writer.h:

	Rename 'seconds' field to 'duration'.

2007-11-21  Jorn Baayen  <jorn@openedhand.com>

	* libgupnp-av/gupnp-didl-lite-writer.c:
	(gupnp_didl_lite_writer_start_didl_lite),
	(gupnp_didl_lite_writer_end_item),
	(gupnp_didl_lite_writer_add_ulong):
	* libgupnp-av/gupnp-didl-lite-writer.h:

	Slightly restructure API.

2007-11-19  Jorn Baayen  <jorn@openedhand.com>

	* libgupnp-av/gupnp-didl-lite-writer.c:
	(gupnp_didl_lite_writer_add_res):

	Small fixes.

2007-11-19  Jorn Baayen  <jorn@openedhand.com>

	* libgupnp-av/gupnp-didl-lite-writer.c:
	(gupnp_didl_lite_writer_start_didl_lite),
	(gupnp_didl_lite_writer_add_res),
	(gupnp_didl_lite_writer_add_desc), (begin_property):

	Actually set URL base.

2007-11-19  Jorn Baayen  <jorn@openedhand.com>

	* libgupnp-av/gupnp-didl-lite-writer.c:
	(gupnp_didl_lite_writer_start_didl_lite),
	(gupnp_didl_lite_writer_end_didl_lite),
	(gupnp_didl_lite_writer_start_container),
	(gupnp_didl_lite_writer_end_container),
	(gupnp_didl_lite_writer_start_item),
	(gupnp_didl_lite_writer_end_item),
	(gupnp_didl_lite_resource_empty), (gupnp_didl_lite_writer_add_res),
	(gupnp_didl_lite_writer_add_desc), (begin_property),
	(begin_property_simple), (end_property),
	(gupnp_didl_lite_writer_add_string),
	(gupnp_didl_lite_writer_add_string_with_attrs),
	(gupnp_didl_lite_writer_add_string_with_attrs_valist),
	(gupnp_didl_lite_writer_add_boolean),
	(gupnp_didl_lite_writer_add_int),
	(gupnp_didl_lite_writer_add_uint),
	(gupnp_didl_lite_writer_add_long),
	(gupnp_didl_lite_writer_add_ulong),
	(gupnp_didl_lite_writer_set_value_and_reset):

	Document.

2007-11-16  Jorn Baayen  <jorn@openedhand.com>

	* libgupnp-av/gupnp-didl-lite-writer.c:
	(gupnp_didl_lite_writer_start_container),
	(gupnp_didl_lite_writer_end_container),
	(gupnp_didl_lite_writer_start_item),
	(gupnp_didl_lite_writer_end_item),
	(gupnp_didl_lite_resource_empty), (gupnp_didl_lite_writer_add_res),
	(gupnp_didl_lite_writer_add_desc), (begin_property),
	(begin_property_simple), (end_property),
	(gupnp_didl_lite_writer_add_string),
	(gupnp_didl_lite_writer_add_string_with_attrs),
	(gupnp_didl_lite_writer_add_string_with_attrs_valist):
	* libgupnp-av/gupnp-didl-lite-writer.h:

	Make escaping optional (text may be escaped already).

2007-11-16  Jorn Baayen  <jorn@openedhand.com>

	* libgupnp-av/gupnp-didl-lite-writer.c:
	(gupnp_didl_lite_writer_start_didl_lite),
	(gupnp_didl_lite_writer_end_didl_lite),
	(gupnp_didl_lite_writer_start_container),
	(gupnp_didl_lite_writer_end_container),
	(gupnp_didl_lite_writer_start_item),
	(gupnp_didl_lite_writer_end_item),
	(gupnp_didl_lite_writer_add_res),
	(gupnp_didl_lite_writer_add_desc), (begin_property),
	(begin_property_simple), (end_property),
	(gupnp_didl_lite_writer_add_string),
	(gupnp_didl_lite_writer_add_string_with_attrs),
	(gupnp_didl_lite_writer_add_string_with_attrs_valist):

	Escape text and resolve relative URIs.

2007-11-16  Jorn Baayen  <jorn@openedhand.com>

	* libgupnp-av/gupnp-didl-lite-writer.c:
	(gupnp_didl_lite_writer_class_init), (gupnp_didl_lite_writer_new),
	(gupnp_didl_lite_writer_start_didl_lite),
	(gupnp_didl_lite_writer_end_didl_lite),
	(gupnp_didl_lite_writer_start_container),
	(gupnp_didl_lite_writer_end_container),
	(gupnp_didl_lite_writer_start_item),
	(gupnp_didl_lite_writer_end_item),
	(gupnp_didl_lite_writer_add_res),
	(gupnp_didl_lite_writer_add_desc), (begin_property),
	(begin_property_simple), (end_property),
	(gupnp_didl_lite_writer_add_string),
	(gupnp_didl_lite_writer_add_string_with_attrs),
	(gupnp_didl_lite_writer_add_string_with_attrs_valist),
	(gupnp_didl_lite_writer_add_boolean),
	(gupnp_didl_lite_writer_add_int),
	(gupnp_didl_lite_writer_add_uint),
	(gupnp_didl_lite_writer_add_long),
	(gupnp_didl_lite_writer_add_ulong):
	* libgupnp-av/gupnp-didl-lite-writer.h:

	Fill in stubs. To do: escaping and relative URI resolving.

2007-11-16  Jorn Baayen  <jorn@openedhand.com>

	* libgupnp-av/Makefile.am:
	* libgupnp-av/gupnp-didl-lite-writer.c:
	* libgupnp-av/gupnp-didl-lite-writer.h:

	More skels.

2007-11-16  Jorn Baayen  <jorn@openedhand.com>

	* libgupnp-av/Makefile.am:
	* libgupnp-av/gupnp-av.h:
	* libgupnp-av/gupnp-didl-lite-writer.h:

	Added DIDLLiteWriter skels.

2007-11-09  Jorn Baayen  <jorn@openedhand.com>

	* libgupnp-av/Makefile.am:
	* libgupnp-av/gupnp-av.h:
	* libgupnp-av/gupnp-media-server.c:
	* libgupnp-av/gupnp-media-server.h:

	Add basic MediaServer skels.

2007-11-05  Zeeshan Ali Khattak  <zeenix@gstreamer.net>

	* libgupnp-av/gupnp-didl-lite-object.c:

	Silently ingore the unavailability of 'class_name' since desc and res
	objects never specify it.

2007-11-02  Zeeshan Ali Khattak  <zeenix@gstreamer.net>

	* libgupnp-av/gupnp-media-server-proxy.c:

	Indentation fixes.

2007-11-02  Zeeshan Ali Khattak  <zeenix@gstreamer.net>

	* gupnp-av-1.0-uninstalled.pc.in:

	Fix a typo.

2007-11-02  Zeeshan Ali Khattak  <zeenix@gstreamer.net>

	* libgupnp-av/gupnp-didl-lite-parser.h:
	* libgupnp-av/gupnp-media-renderer-proxy.h:
	* libgupnp-av/gupnp-media-server-proxy.h:

	Rename all IS_GUPNP_* type check macros to GUPNP_IS_*.

2007-11-02  Zeeshan Ali Khattak  <zeenix@gstreamer.net>

	* libgupnp-av/Makefile.am:
	* libgupnp-av/gupnp-av-main.c:
	* libgupnp-av/gupnp-av.h:
	* libgupnp-av/gupnp-didl-lite-object.c:
	* libgupnp-av/gupnp-didl-lite-object.h:
	* libgupnp-av/gupnp-didl-lite-parser.c:
	* libgupnp-av/gupnp-didl-lite-parser.h:
	* libgupnp-av/gupnp-media-renderer-proxy.c:
	* libgupnp-av/gupnp-media-renderer-proxy.h:
	* libgupnp-av/gupnp-media-server-proxy.c:
	* libgupnp-av/gupnp-media-server-proxy.h:
	* libgupnp-av/xml-util.c:
	* libgupnp-av/xml-util.h:

	Move all generic AV code into gupnp-av.

2007-11-01  Zeeshan Ali Khattak  <zeenix@gstreamer.net>

	* AUTHORS:
	* COPYING:
	* INSTALL:
	* Makefile.am:
	* NEWS:
	* README:
	* autogen.sh:
	* configure.ac:
	* gupnp-av-1.0-uninstalled.pc.in:
	* gupnp-av-1.0.pc.in:
	* libgupnp-av/Makefile.am:
	* libgupnp-av/gupnp-av-main.c:
	* libgupnp-av/gupnp-av-main.h:
	* libgupnp-av/gupnp-av.h:
	* po/ChangeLog:
	* po/POTFILES.in:
	* po/libgupnp-av.pot:

	Add basic skeleton for gupnp-av.

